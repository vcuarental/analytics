["{\"nodes\":{\"Filter_Activity\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"CustomFilter:EQ:true\"},\"sources\":[\"Activity_Custom_Filter_Flag\"]},\"Compute_Manager_Unique\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"name\":\"UniqueUserName\",\"saqlExpression\":\"'Name'\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Filter_User\"]},\"Extract_Opportunity\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"AccountId\"},{\"name\":\"OwnerId\"},{\"name\":\"Name\"},{\"name\":\"StageName\"},{\"name\":\"IsWon\"},{\"name\":\"Type\"},{\"name\":\"IsClosed\"},{\"name\":\"CreatedDate\"},{\"label\":\"CloseDate\",\"name\":\"CloseDate\"},{\"name\":\"Amount\"},{\"name\":\"LastActivityDate\"},{\"name\":\"RecordTypeId\"}],\"object\":\"Opportunity\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Extract_Task\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"CallDurationInSeconds\"},{\"name\":\"CallDisposition\"},{\"name\":\"CallType\"},{\"name\":\"OwnerId\"},{\"name\":\"Status\"},{\"name\":\"Priority\"},{\"name\":\"IsClosed\"},{\"name\":\"TaskSubtype\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"label\":\"CreatedDate\",\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"label\":\"ActivityDate\",\"name\":\"ActivityDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"name\":\"LastModifiedDate\"},{\"name\":\"Subject\"},{\"name\":\"WhatId\"},{\"name\":\"AccountId\"}],\"object\":\"Task\"}},\"Append_TaskEvent\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"Add_Fields_To_Task\",\"Add_Fields_To_Event\"]},\"Extract_User\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Username\"},{\"name\":\"Name\"},{\"name\":\"FirstName\"},{\"name\":\"LastName\"},{\"name\":\"UserRoleId\"},{\"name\":\"UserType\"},{\"name\":\"IsActive\"},{\"name\":\"FullPhotoUrl\"},{\"name\":\"SmallPhotoUrl\"},{\"defaultValue\":\"N/A\",\"name\":\"ManagerId\"}],\"object\":\"User\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Join_ActivityOwner_Product_Opp_User\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"relationship\":\"AssignedTo\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"UniqueUserName\"]},\"sources\":[\"Join_ActivityOwner_Product_Opp\",\"Compute_Manager_Unique\"]},\"Add_Fields_To_Event\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"CallDisposition\",\"name\":\"CallDisposition\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"CallType\",\"name\":\"CallType\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"Status\",\"name\":\"Status\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"Priority\",\"name\":\"Priority\",\"saqlExpression\":\"\\\"Event\\\"\",\"type\":\"Text\"},{\"label\":\"TaskSubtype\",\"name\":\"TaskSubtype\",\"saqlExpression\":\"EventSubtype\",\"type\":\"Text\"},{\"defaultValue\":\"0\",\"label\":\"CallDurationInSeconds\",\"name\":\"CallDurationInSeconds\",\"precision\":8,\"saqlExpression\":\"0\",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"IsClosed\",\"name\":\"IsClosed\",\"saqlExpression\":\"case when daysBetween(toDate(ActivityDate_sec_epoch), now()) >= 0 then \\\"true\\\" else \\\"false\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_Event\"]},\"Join_ActivityOwner_Product_Opp_User_Account\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"relationship\":\"Account\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"OwnerId\",\"Type\",\"Industry\",\"BillingCountry\"]},\"sources\":[\"Join_ActivityOwner_Product_Opp_User\",\"Extract_Account\"]},\"Users_Custom_Filter_Flag\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"name\":\"hasOpportunity\",\"saqlExpression\":\"case when 'Opportunity.Name' is null then \\\"false\\\" else \\\"true\\\" end\",\"type\":\"Text\"},{\"name\":\"CustomFilter\",\"saqlExpression\":\"case when 'Opportunity.Name' is null && 'IsActive' == \\\"false\\\" then \\\"false\\\" else \\\"true\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"User_with_Roles_with_Opportunities\"]},\"Filter_UserManager\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"CustomFilter:EQ:true\"},\"sources\":[\"Users_Custom_Filter_Flag\"]},\"Register_User\":{\"action\":\"register\",\"parameters\":{\"label\":\"Users\",\"name\":\"user\",\"rowLevelSecurityFilter\":\"\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"Filter_UserManager\"]},\"Register_Activity\":{\"action\":\"register\",\"parameters\":{\"label\":\"Activities\",\"name\":\"activity\",\"rowLevelSecurityFilter\":\"\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"Filter_Activity\"]},\"Filter_User\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"UserType:EQ:Standard|PowerPartner\"},\"sources\":[\"Extract_User\"]},\"Flatten_Hierarchy_Grouping\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":true,\"multiField\":{\"isSystemField\":false,\"label\":\"Hierarchy_RoleNames\",\"name\":\"Hierarchy_RoleNames\"},\"parentField\":\"ParentRole.DeveloperName\",\"pathField\":{\"isSystemField\":false,\"label\":\"Hierarchy_RoleNamesPath\",\"name\":\"Hierarchy_RoleNamesPath\"},\"selfField\":\"DeveloperName\"},\"sources\":[\"Flatten_ParentName\"]},\"Join_ActivityOwner_Product_Opp\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"WhatId\"],\"relationship\":\"Opportunity\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"StageName\",\"Name\",\"Type\",\"OwnerId\",\"AccountId\",\"CloseDate\",\"CreatedDate\",\"RecordTypeId\",\"IsClosed\"]},\"sources\":[\"Join_ActivityOwner\",\"Extract_Opportunity\"]},\"Compute_Activity_IsOverdue\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"IsOverdue\",\"name\":\"IsOverdue\",\"saqlExpression\":\"case when ('IsClosed' == \\\"false\\\") && (daysBetween(toDate(substr('ActivityDate', 1, 10), \\\"yyyy-MM-dd\\\"), now()) > 0) then \\\"true\\\" else \\\"false\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Join_ActivityOwner_Product_Opp_User_Account\"]},\"Activity_Custom_Filter_Flag\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"name\":\"CustomFilter\",\"saqlExpression\":\"\\\"true\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Compute_Activity_Days_Overdue\"]},\"Flatten_ParentName\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":true,\"multiField\":{\"isSystemField\":false,\"label\":\"RoleNames\",\"name\":\"RoleNames\"},\"parentField\":\"ParentRole.DeveloperName\",\"pathField\":{\"isSystemField\":false,\"label\":\"RoleNamesPath\",\"name\":\"RoleNamesPath\"},\"selfField\":\"DeveloperName\"},\"sources\":[\"Augment_ParentName\"]},\"Extract_Account\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"OwnerId\"},{\"name\":\"Type\"},{\"name\":\"Industry\"},{\"name\":\"BillingCountry\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"name\":\"CreatedDate\"}],\"object\":\"Account\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Augment_ParentName\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ParentRoleId\"],\"relationship\":\"ParentRole\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"DeveloperName\",\"ParentRoleId\"]},\"sources\":[\"Flatten_UserRole\",\"Extract_UserRole\"]},\"Add_Fields_To_Task\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"EventSubtype\",\"name\":\"EventSubtype\",\"saqlExpression\":\"TaskSubtype\",\"type\":\"Text\"},{\"defaultValue\":\"0\",\"label\":\"DurationInMinutes\",\"name\":\"DurationInMinutes\",\"precision\":8,\"saqlExpression\":\"0\",\"scale\":0,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"Extract_Task\"]},\"Join_ActivityOwner\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"relationship\":\"Owner\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Username\",\"UserRoleId\",\"UniqueUserName\",\"FullPhotoUrl\",\"SmallPhotoUrl\",\"Role.Name\",\"Role.DeveloperName\",\"Role.Roles\",\"Role.RolePath\",\"Role.ParentRoleId\",\"Role.ParentRole.Name\",\"Role.ParentRole.DeveloperName\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.Hierarchy_RoleNames\"]},\"sources\":[\"Append_TaskEvent\",\"User_with_Roles\"]},\"Extract_UserRole\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"DeveloperName\"},{\"name\":\"ParentRoleId\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"name\":\"LastModifiedDate\"},{\"name\":\"LastModifiedById\"},{\"name\":\"SystemModstamp\"}],\"object\":\"UserRole\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"User_with_Roles\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"UserRoleId\"],\"relationship\":\"Role\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"DeveloperName\",\"Roles\",\"RolePath\",\"ParentRoleId\",\"ParentRole.Name\",\"ParentRole.DeveloperName\",\"RoleNames\",\"Hierarchy_RoleNames\",\"RoleNamesPath\"]},\"sources\":[\"Compute_Manager_Unique\",\"Flatten_Hierarchy_Grouping\"]},\"Extract_Event\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"OwnerId\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"label\":\"CreatedDate\",\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"name\":\"LastModifiedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":6,\"label\":\"ActivityDate\",\"name\":\"ActivityDate\"},{\"name\":\"Subject\"},{\"name\":\"DurationInMinutes\"},{\"name\":\"EventSubtype\"},{\"name\":\"WhatId\"},{\"name\":\"AccountId\"}],\"object\":\"Event\"}},\"Flatten_UserRole\":{\"action\":\"flatten\",\"parameters\":{\"multiField\":{\"isSystemField\":false,\"label\":\"Roles\",\"name\":\"Roles\"},\"parentField\":\"ParentRoleId\",\"pathField\":{\"isSystemField\":false,\"label\":\"RolePath\",\"name\":\"RolePath\"},\"selfField\":\"Id\"},\"sources\":[\"Extract_UserRole\"]},\"Compute_Activity_Days_Overdue\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"0\",\"label\":\"Days Overdue\",\"name\":\"DaysOverdue\",\"precision\":18,\"saqlExpression\":\"case when 'IsOverdue' == \\\"true\\\" then daysBetween(toDate(substr('ActivityDate', 1, 10), \\\"yyyy-MM-dd\\\"), now()) else 0 end\",\"scale\":2,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"Compute_Activity_IsOverdue\"]},\"User_with_Roles_with_Opportunities\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"relationship\":\"Opportunity\",\"rightKey\":[\"OwnerId\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"User_with_Roles\",\"Extract_Opportunity\"]}}}",null]